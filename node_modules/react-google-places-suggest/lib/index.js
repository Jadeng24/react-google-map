(function webpackUniversalModuleDefinition(root, factory) {
  if(typeof exports === 'object' && typeof module === 'object')
    module.exports = factory(require("react"));
  else if(typeof define === 'function' && define.amd)
    define(["react"], factory);
  else if(typeof exports === 'object')
    exports["react-google-places-suggest"] = factory(require("react"));
  else
    root["react-google-places-suggest"] = factory(root["React"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_5__) {
return /******/ (function(modules) { // webpackBootstrap
/******/  // The module cache
/******/  var installedModules = {};

/******/  // The require function
/******/  function __webpack_require__(moduleId) {

/******/    // Check if module is in cache
/******/    if(installedModules[moduleId])
/******/      return installedModules[moduleId].exports;

/******/    // Create a new module (and put it into the cache)
/******/    var module = installedModules[moduleId] = {
/******/      exports: {},
/******/      id: moduleId,
/******/      loaded: false
/******/    };

/******/    // Execute the module function
/******/    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/    // Flag the module as loaded
/******/    module.loaded = true;

/******/    // Return the exports of the module
/******/    return module.exports;
/******/  }


/******/  // expose the modules object (__webpack_modules__)
/******/  __webpack_require__.m = modules;

/******/  // expose the module cache
/******/  __webpack_require__.c = installedModules;

/******/  // __webpack_public_path__
/******/  __webpack_require__.p = "";

/******/  // Load entry module and return exports
/******/  return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

  'use strict';

  exports.__esModule = true;

  var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

  function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

  function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }

  __webpack_require__(1);

  var _react = __webpack_require__(5);

  var _react2 = _interopRequireDefault(_react);

  var _classnames = __webpack_require__(6);

  var _classnames2 = _interopRequireDefault(_classnames);

  var _reactGoogleMapsLoader = __webpack_require__(7);

  var _reactGoogleMapsLoader2 = _interopRequireDefault(_reactGoogleMapsLoader);

  var GeoSuggest = (function (_Component) {
    _inherits(GeoSuggest, _Component);

    function GeoSuggest() {
      var _this = this;

      _classCallCheck(this, _GeoSuggest);

      _Component.apply(this, arguments);

      this.state = {
        coordinate: null,
        googleMaps: null,
        focusedSuggestIndex: 0,
        selectedLabel: '',
        suggests: []
      };

      this.handleSelectSuggest = function (suggest) {
        var onSelectSuggest = _this.props.onSelectSuggest;

        _this.geocodeSuggest(suggest.label, function () {
          _this.setState({ selectedLabel: suggest.label, suggests: [] }, function () {
            onSelectSuggest(suggest.label, _this.state.coordinate);
          });
        });
      };

      this.handleKeyDown = function (e) {
        var _state = _this.state;
        var focusedSuggestIndex = _state.focusedSuggestIndex;
        var suggests = _state.suggests;

        switch (e.key) {
          case 'Enter':
            _this.handleSelectSuggest(suggests[focusedSuggestIndex]);
            break;

          case 'ArrowUp':
            if (suggests.length > 0 && focusedSuggestIndex > 0) {
              _this.focusSuggest(focusedSuggestIndex - 1);
            }
            break;

          case 'ArrowDown':
            if (suggests.length > 0 && focusedSuggestIndex < suggests.length - 1) {
              _this.focusSuggest(focusedSuggestIndex + 1);
            }
            break;
        }
      };
    }

    GeoSuggest.prototype.componentWillMount = function componentWillMount() {
      this.updateSuggests(this.props.search);
    };

    GeoSuggest.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
      this.updateSuggests(nextProps.search);
    };

    GeoSuggest.prototype.updateSuggests = function updateSuggests(search) {
      var _this2 = this;

      var _props = this.props;
      var googleMaps = _props.googleMaps;
      var suggestRadius = _props.suggestRadius;

      var autocompleteService = new googleMaps.places.AutocompleteService();

      if (!search) {
        this.setState({ suggests: [] });
        return;
      }

      autocompleteService.getPlacePredictions({
        input: search,
        location: new googleMaps.LatLng(0, 0),
        radius: suggestRadius
      }, function (googleSuggests) {
        if (!googleSuggests) {
          _this2.setState({ suggests: [] });
          return;
        }

        var suggests = googleSuggests.map(function (suggest, key) {
          var _suggest$terms = _toArray(suggest.terms);

          var label = _suggest$terms[0];

          var items = _suggest$terms.slice(1);

          var address = items.map(function (item) {
            return item.value;
          }).join(', ');
          var firstMatchedString = suggest.matched_substrings.shift();

          return {
            label: label.value + (address.length > 0 ? ', ' + address : ''),
            labelParts: {
              before: label.value.substr(0, firstMatchedString.offset),
              matched: label.value.substr(firstMatchedString.offset, firstMatchedString.length),
              after: label.value.substr(firstMatchedString.offset + firstMatchedString.length)
            },
            address: address
          };
        });

        _this2.setState({ focusedSuggestIndex: 0, suggests: suggests });
      });
    };

    GeoSuggest.prototype.geocodeSuggest = function geocodeSuggest(suggestLabel, callback) {
      var _this3 = this;

      var googleMaps = this.props.googleMaps;

      var geocoder = new googleMaps.Geocoder();

      geocoder.geocode({ address: suggestLabel }, function (results, status) {
        if (status === googleMaps.GeocoderStatus.OK) {
          var _location = results[0].geometry.location;
          var coordinate = {
            latitude: _location.lat(),
            longitude: _location.lng(),
            title: suggestLabel
          };

          _this3.setState({ coordinate: coordinate }, callback);
        }
      });
    };

    GeoSuggest.prototype.focusSuggest = function focusSuggest(index) {
      this.setState({ focusedSuggestIndex: index });
    };

    GeoSuggest.prototype.renderMarkerIcon = function renderMarkerIcon() {
      return _react2['default'].createElement(
        'svg',
        { className: 'placesSuggest_suggestIcon', width: '15', height: '15', viewBox: '0 0 16 24' },
        _react2['default'].createElement('path', { d: 'm12 0c-4.4183 2.3685e-15 -8 3.5817-8 8 0 1.421 0.3816 2.75 1.0312 3.906 0.1079 0.192 0.221 0.381 0.3438 0.563l6.625 11.531 6.625-11.531c0.102-0.151 0.19-0.311 0.281-0.469l0.063-0.094c0.649-1.156 1.031-2.485 1.031-3.906 0-4.4183-3.582-8-8-8zm0 4c2.209 0 4 1.7909 4 4 0 2.209-1.791 4-4 4-2.2091 0-4-1.791-4-4 0-2.2091 1.7909-4 4-4z' })
      );
    };

    GeoSuggest.prototype.renderSuggest = function renderSuggest(suggest, key) {
      var _this4 = this;

      var focusedSuggestIndex = this.state.focusedSuggestIndex;
      var labelParts = suggest.labelParts;

      return _react2['default'].createElement(
        'li',
        {
          key: key,
          className: _classnames2['default']('placesSuggest_suggest', focusedSuggestIndex === key && 'placesSuggest_suggest-active'),
          onClick: function () {
            return _this4.handleSelectSuggest(suggest);
          } },
        this.renderMarkerIcon(),
        _react2['default'].createElement(
          'span',
          { className: 'placesSuggest_suggestLabel' },
          labelParts.before.length > 0 ? _react2['default'].createElement(
            'span',
            null,
            labelParts.before
          ) : null,
          _react2['default'].createElement(
            'span',
            { className: 'placesSuggest_suggestLabel-matched' },
            labelParts.matched
          ),
          labelParts.after.length > 0 ? _react2['default'].createElement(
            'span',
            null,
            labelParts.after
          ) : null
        ),
        _react2['default'].createElement(
          'span',
          { className: 'placesSuggest_suggestAddress' },
          suggest.address
        )
      );
    };

    GeoSuggest.prototype.renderSuggests = function renderSuggests() {
      var _this5 = this;

      var suggests = this.state.suggests;

      return _react2['default'].createElement(
        'ul',
        { className: 'placesSuggest_suggests' },
        suggests.map(function (suggest, key) {
          return _this5.renderSuggest(suggest, key);
        })
      );
    };

    GeoSuggest.prototype.render = function render() {
      var search = this.props.search;
      var selectedLabel = this.state.selectedLabel;

      return _react2['default'].createElement(
        'div',
        { className: 'placesSuggest', onKeyDown: this.handleKeyDown },
        this.props.children,
        selectedLabel !== search && search ? this.renderSuggests() : null
      );
    };

    _createClass(GeoSuggest, null, [{
      key: 'propTypes',
      value: {
        onSelectSuggest: _react.PropTypes.func,
        search: _react.PropTypes.string,
        suggestRadius: _react.PropTypes.number
      },
      enumerable: true
    }, {
      key: 'defaultProps',
      value: {
        onSelectSuggest: function () {},
        search: '',
        suggestRadius: 20
      },
      enumerable: true
    }]);

    var _GeoSuggest = GeoSuggest;
    GeoSuggest = _reactGoogleMapsLoader2['default']({ libraries: 'places' })(GeoSuggest) || GeoSuggest;
    return GeoSuggest;
  })(_react.Component);

  exports['default'] = GeoSuggest;
  module.exports = exports['default'];

/***/ },
/* 1 */
/***/ function(module, exports) {

  // removed by extract-text-webpack-plugin

/***/ },
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */
/***/ function(module, exports) {

  module.exports = __WEBPACK_EXTERNAL_MODULE_5__;

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

  var __WEBPACK_AMD_DEFINE_RESULT__;/*!
    Copyright (c) 2015 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */

  (function () {
    'use strict';

    function classNames () {

      var classes = '';

      for (var i = 0; i < arguments.length; i++) {
        var arg = arguments[i];
        if (!arg) continue;

        var argType = typeof arg;

        if ('string' === argType || 'number' === argType) {
          classes += ' ' + arg;

        } else if (Array.isArray(arg)) {
          classes += ' ' + classNames.apply(null, arg);

        } else if ('object' === argType) {
          for (var key in arg) {
            if (arg.hasOwnProperty(key) && arg[key]) {
              classes += ' ' + key;
            }
          }
        }
      }

      return classes.substr(1);
    }

    if (typeof module !== 'undefined' && module.exports) {
      module.exports = classNames;
    } else if (true){
      // AMD. Register as an anonymous module.
      !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {
        return classNames;
      }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else {
      window.classNames = classNames;
    }

  }());


/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

  !function(e,t){ true?module.exports=t(__webpack_require__(5)):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-google-maps-loader"]=t(require("react")):e["react-google-maps-loader"]=t(e.React)}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(2),c=o(i),s=n(1),l=o(s);t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){return function(n){function o(){r(this,o),n.apply(this,arguments),this.state={googleMaps:null}}return a(o,n),o.prototype.componentDidMount=function(){var t=this;if("undefined"==typeof window.google){window.googleMapsLoaded=function(){l["default"].done("google-maps-places")},e.callback="googleMapsLoaded";var n=Object.keys(e).reduce(function(t,n){return null!==e[n]&&void 0!==e[n]?t+=n+"="+e[n]+"&":t},"?").slice(0,-1);l["default"]("https://maps.googleapis.com/maps/api/js"+n),l["default"].ready("google-maps-places",function(){t.handleLoaded(google.maps)})}else this.handleLoaded(google.maps)},o.prototype.handleLoaded=function(e){this.setState({googleMaps:e})},o.prototype.render=function(){var e=this.state.googleMaps;return e?c["default"].createElement(t,u({googleMaps:e},this.props)):null},o}(i.Component)}},e.exports=t["default"]},function(e,t,n){var o,r;/*!
      * $script.js JS loader & dependency manager
      * https://github.com/ded/script.js
      * (c) Dustin Diaz 2014 | License MIT
      */
  !function(a,u){"undefined"!=typeof e&&e.exports?e.exports=u():(o=u,r="function"==typeof o?o.call(t,n,t,e):o,!(void 0!==r&&(e.exports=r)))}("$script",function(){function e(e,t){for(var n=0,o=e.length;o>n;++n)if(!t(e[n]))return c;return 1}function t(t,n){e(t,function(e){return!n(e)})}function n(a,u,i){function c(e){return e.call?e():p[e]}function l(){if(!--v){p[y]=1,h&&h();for(var n in g)e(n.split("|"),c)&&!t(g[n],c)&&(g[n]=[])}}a=a[s]?a:[a];var f=u&&u.call,h=f?u:i,y=f?a.join(""):u,v=a.length;return setTimeout(function(){t(a,function e(t,n){return null===t?l():(t=n||-1!==t.indexOf(".js")||/^https?:\/\//.test(t)||!r?t:r+t+".js",m[t]?(y&&(d[y]=1),2==m[t]?l():setTimeout(function(){e(t,!0)},0)):(m[t]=1,y&&(d[y]=1),void o(t,l)))})},0),n}function o(e,t){var n,o=u.createElement("script");o.onload=o.onerror=o[f]=function(){o[l]&&!/^c|loade/.test(o[l])||n||(o.onload=o[f]=null,n=1,m[e]=2,t())},o.async=1,o.src=a?e+(-1===e.indexOf("?")?"?":"&")+a:e,i.insertBefore(o,i.lastChild)}var r,a,u=document,i=u.getElementsByTagName("head")[0],c=!1,s="push",l="readyState",f="onreadystatechange",p={},d={},g={},m={};return n.get=o,n.order=function(e,t,o){!function r(a){a=e.shift(),e.length?n(a,r):n(a,t,o)}()},n.path=function(e){r=e},n.urlArgs=function(e){a=e},n.ready=function(o,r,a){o=o[s]?o:[o];var u=[];return!t(o,function(e){p[e]||u[s](e)})&&e(o,function(e){return p[e]})?r():!function(e){g[e]=g[e]||[],g[e][s](r),a&&a(u)}(o.join("|")),n},n.done=function(e){n([null],e)},n})},function(t,n){t.exports=e}])});

/***/ }
/******/ ])
});
;
